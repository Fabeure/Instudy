{% extends "base.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
{% endblock  %}
{% block title %}Analytics  {% endblock %}
{% block jsdelivr %}         <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
{% endblock %}
{% block body %}
    {%  block header %} {{ parent() }}
        {% block errors %} {% endblock %}
    {% endblock %}
        <script>
            // Function to update the visit count
            function updateVisitCount() {
                // Check if the visit count is stored in local storage
                if (localStorage.getItem('visitCount')) {
                    // If stored, increment the count
                    var count = parseInt(localStorage.getItem('visitCount'));
                    count++;
                    localStorage.setItem('visitCount', count);
                } else {
                    // If not stored, set the count to 1
                    localStorage.setItem('visitCount', 1);
                }
            }

            // Function to display the visit count
            function displayVisitCount() {
                var count = localStorage.getItem('visitCount');
                document.getElementById('visitCount').innerHTML = count;
            }

            // Update the visit count and display it on page load
            window.addEventListener('load', function() {
                updateVisitCount();
                displayVisitCount();
            });
        </script>
    <h1>Welcome to My Page!</h1>
    <p>Total visits: <span id="visitCount"></span></p>
{% endblock %}

